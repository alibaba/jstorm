<?xml version="1.0" encoding="UTF-8"?>
<assembly>
	<id>tgz</id>
	<baseDirectory>jstorm-${project.version}</baseDirectory>
	<formats>
		<format>dir</format>
		<format>zip</format>
	</formats>
	<files>
		<file>
			<source>jstorm-server/bin/jstorm.py</source>
			<outputDirectory>/bin</outputDirectory>
			<fileMode>0755</fileMode>
			<destName>jstorm</destName>
		</file>
		<file>
			<source>jstorm-server/bin/start.sh</source>
			<outputDirectory>/bin</outputDirectory>
			<fileMode>0755</fileMode>
			<destName>start.sh</destName>
		</file>
		<file>
			<source>jstorm-server/bin/stop.sh</source>
			<outputDirectory>/bin</outputDirectory>
			<fileMode>0755</fileMode>
			<destName>stop.sh</destName>
		</file>
		<file>
			<source>./version</source>
			<outputDirectory>./</outputDirectory>
			<destName>RELEASE</destName>
		</file>
		<file>
			<source>./history.md</source>
			<outputDirectory>./</outputDirectory>
			<destName>history.md</destName>
		</file>
		<file>
			<source>./LICENSE</source>
			<outputDirectory>./</outputDirectory>
			<destName>LICENSE</destName>
		</file>
		<file>
			<source>./README.md</source>
			<outputDirectory>./</outputDirectory>
			<destName>README.md</destName>
		</file>

		<file>
			<source>jstorm-ui/target/jstorm-ui-${project.version}.war</source>
			<outputDirectory>./</outputDirectory>
			<fileMode>0755</fileMode>
			<destName>jstorm-ui-${project.version}.war</destName>
		</file>
	</files>
	<fileSets>
		<fileSet>
			<directory>jstorm-server/conf</directory>
			<outputDirectory>/conf</outputDirectory>
			<includes>
				<include>**/*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>jstorm-server/conf</directory>
			<outputDirectory>/logs</outputDirectory>
			<directoryMode>0755</directoryMode>
			<excludes>
				<exclude>*</exclude>
			</excludes>
		</fileSet>

		<fileSet>
			<directory>jstorm-server/conf</directory>
			<outputDirectory>/data</outputDirectory>
			<directoryMode>0755</directoryMode>
			<excludes>
				<exclude>*</exclude>
			</excludes>
		</fileSet>

	</fileSets>
	<moduleSets>
		<moduleSet>


			<excludes>
				<exclude>com.alibaba.jstorm:jstorm-ui</exclude>
			</excludes>

			<binaries>
				<!-- <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping> -->
				<outputDirectory>./</outputDirectory>
				<unpack>false</unpack>
				<dependencySets>
					<dependencySet>
						<excludes>
							<exclude>com.alibaba.jstorm:jstorm-client</exclude>
							<exclude>com.alibaba.jstorm:jstorm-client-extension</exclude>
						</excludes>
						<outputDirectory>lib</outputDirectory>
					</dependencySet>
				</dependencySets>
			</binaries>
		</moduleSet>
	</moduleSets>

</assembly>
